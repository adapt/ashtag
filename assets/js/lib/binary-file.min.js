// BinaryFile class taken from https://github.com/jseidelin/exif-js/blob/master/binaryajax.js
var BinaryFile=function(e,t,n){var r=e;var i=t||0;var s=0;this.getRawData=function(){return r};if(typeof e=="string"){s=n||r.length;this.getByteAt=function(e){return r.charCodeAt(e+i)&255};this.getBytesAt=function(e,t){var n=[];for(var s=0;s<t;s++){n[s]=r.charCodeAt(e+s+i)&255}return n}}else if(typeof e=="unknown"){s=n||IEBinary_getLength(r);this.getByteAt=function(e){return IEBinary_getByteAt(r,e+i)};this.getBytesAt=function(e,t){return(new VBArray(IEBinary_getBytesAt(r,e+i,t))).toArray()}}this.getLength=function(){return s};this.getSByteAt=function(e){var t=this.getByteAt(e);if(t>127)return t-256;else return t};this.getShortAt=function(e,t){var n=t?(this.getByteAt(e)<<8)+this.getByteAt(e+1):(this.getByteAt(e+1)<<8)+this.getByteAt(e);if(n<0)n+=65536;return n};this.getSShortAt=function(e,t){var n=this.getShortAt(e,t);if(n>32767)return n-65536;else return n};this.getLongAt=function(e,t){var n=this.getByteAt(e),r=this.getByteAt(e+1),i=this.getByteAt(e+2),s=this.getByteAt(e+3);var o=t?(((n<<8)+r<<8)+i<<8)+s:(((s<<8)+i<<8)+r<<8)+n;if(o<0)o+=4294967296;return o};this.getSLongAt=function(e,t){var n=this.getLongAt(e,t);if(n>2147483647)return n-4294967296;else return n};this.getStringAt=function(e,t){var n=[];var r=this.getBytesAt(e,t);for(var i=0;i<t;i++){n[i]=String.fromCharCode(r[i])}return n.join("")};this.getCharAt=function(e){return String.fromCharCode(this.getByteAt(e))};this.toBase64=function(){return window.btoa(r)};this.fromBase64=function(e){r=window.atob(e)}};